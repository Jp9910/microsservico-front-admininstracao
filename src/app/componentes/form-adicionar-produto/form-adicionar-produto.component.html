<section class="mx-auto flex flex-col bg-teal-50 dark:bg-blue-500 max-w-5/20 w-auto mt-5 rounded-lg shadow-2xl">
    <h1 class="text-3xl font-bold mb-5 ml-2">Adicionar Produto</h1>
    <form [formGroup]="formAdicionarProduto" (ngSubmit)="adicionarProduto()" class="flex flex-col min-w-7/10 max-w-8/10 pl-2">
        <label for="nome">Nome</label>
        <input formControlName="nome" id="nome" type="text" required placeholder="Camisa preta com estampa" class="mb-2 w-4/5 p-2 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/>

        <label for="preco">Preço</label>
        <div class="flex relative items-center">
            <span class="absolute inset-y-0 start-0 pt-1 ps-1 flex items-center pointer-events-none dark:text-gray-300 bg-gray-50 dark:bg-gray-700 mr-2 max-w-16 max-h-8 rounded-l-lg">R$</span>
            <input formControlName="preco" id="preco" type="text" inputmode="numeric" required placeholder="1.99" class="p-2 mb-2 ps-6 w-1/4 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/>
        </div>
        @if (formEnviado && formAdicionarProduto.invalid && formAdicionarProduto.get('preco')?.errors) {
            <span>Preço deve ser um número, no mínimo 0.1</span>
        }

        <label for="estoque">Quantidade em estoque</label>
        <input formControlName="estoque" id="estoque" type="text" inputmode="numeric" required placeholder="100" class="mb-2 w-1/4 p-2 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/>

        <section>
            <label for="input-imagem" class="block mb-2 font-medium text-gray-900 dark:text-white">Imagem</label>
            <input hidden #inputImg id="input-imagem" (change)="arquivoSelecionado($event)" required type="file" accept="image/png, image/jpg, image/jpeg" class="mb-2 p-2 block w-full text-md text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"/>
            <button type="button" (click)="inputImg.click()" class="w-1/2 h-auto inline-flex items-center px-3 py-2 text-sm font-medium text-center cursor-pointer rounded-lg text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-cyan-300 dark:bg-cyan-700 dark:hover:bg-cyan-900 dark:focus:ring-cyan-800"
            >Escolher Arquivo...</button>
            <br>
            <span class="text-sm dark:text-gray-300">Arquivo selecionado: {{arquivoImagem?.name}}</span>
        </section>

        <label for="descricao" class="mt-3">Descrição</label>
        <textarea formControlName="descricao" id="descricao" placeholder="Descrição do produto" class="w-4/4 p-1 mb-2 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"></textarea>

        <section class="flex max-w-8/10 space-x-2 pb-4">
            <button type="button" (click)="limparFormulario()" class="h-auto inline-flex items-center px-3 py-2 text-sm font-medium text-center cursor-pointer rounded-lg text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-cyan-300 dark:bg-cyan-700 dark:hover:bg-cyan-900 dark:focus:ring-cyan-800"
            >Limpar</button>
            <button
                type="submit"
                [disabled]="formAdicionarProduto.invalid"
                class="h-auto inline-flex items-center px-3 py-2 text-sm font-medium text-center rounded-lg text-white  focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800"
                [ngClass]="formAdicionarProduto.valid? 'cursor-pointer bg-cyan-700 hover:bg-cyan-800 dark:bg-cyan-700 dark:hover:bg-cyan-900': 'cursor-not-allowed bg-gray-600'"
            >Adicionar</button>
        </section>
    </form>
</section>