<section class="mx-auto flex flex-col bg-teal-50 dark:bg-blue-500 max-w-5/20 w-auto mt-5 rounded-lg shadow-2xl">
    <div class="flex justify-between mt-2">
        <h1 class="text-3xl font-bold mb-5 ml-2">{{tituloFormulario}}</h1>
        <button class="flex mr-2 hover:cursor-pointer max-w-20 h-9" type="button" [routerLink]="['/produtos']">
            <svg width="32px" height="32px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#ffffff" d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"></path><path fill="#ffffff" d="m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"></path></g></svg>
            <span class="pt-1">Voltar</span>
        </button>
    </div>
    <form [formGroup]="formularioProduto" (ngSubmit)="adicionarOuEditarProduto()" class="flex flex-col min-w-7/10 max-w-8/10 pl-2">
        <label for="nome">Nome</label>
        <input formControlName="nome" id="nome" type="text" required placeholder="Camisa preta com estampa" class="mb-2 w-4/5 p-2 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/>

        <label for="preco">Preço</label>
        <div class="flex relative items-center">
            <span class="absolute inset-y-0 start-0 pt-1 ps-1 flex items-center pointer-events-none dark:text-gray-300 bg-gray-50 dark:bg-gray-700 mr-2 max-w-16 max-h-8 rounded-l-lg">R$</span>
            <input formControlName="preco" id="preco" type="text" inputmode="numeric" required placeholder="1.99" class="p-2 mb-2 ps-6 w-1/4 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/>
        </div>

        <label for="estoque">Quantidade em estoque</label>
        <input formControlName="estoque" id="estoque" type="text" inputmode="numeric" required placeholder="100" class="mb-2 w-1/4 p-2 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"/>

        <section>
            <label for="input-imagem" class="block mb-2 font-medium text-gray-900 dark:text-white">Imagem</label>
            <input hidden #inputImg id="input-imagem" (change)="arquivoSelecionado($event)" required type="file" accept="image/png, image/jpg, image/jpeg" class="mb-2 p-2 block w-full text-md text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"/>
            <button type="button" (click)="inputImg.click()" class="w-1/2 h-auto inline-flex items-center px-3 py-2 text-sm font-medium text-center cursor-pointer rounded-lg text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-cyan-300 dark:bg-cyan-700 dark:hover:bg-cyan-900 dark:focus:ring-cyan-800"
            >Escolher Arquivo...</button>
            <br>
            <span class="text-sm dark:text-gray-300">Arquivo selecionado: {{arquivoImagem?.name}}</span>
            @if(formularioProduto.get('imagem')?.value !== "") {
                <figure>
                    <img [src]="formularioProduto.get('imagem')?.value" alt="imagem do produto"/>
                </figure>
            }
        </section>

        <label for="descricao" class="mt-3">Descrição</label>
        <textarea formControlName="descricao" id="descricao" placeholder="Descrição do produto" class="w-4/4 p-1 mb-2 h-auto text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white"></textarea>

        <section class="flex max-w-8/10 space-x-2 pb-4">
            <button type="button" (click)="limparFormulario()" class="h-auto inline-flex items-center px-3 py-2 text-sm font-medium text-center cursor-pointer rounded-lg text-white bg-cyan-700 hover:bg-cyan-800 focus:outline-none focus:ring-cyan-300 dark:bg-cyan-700 dark:hover:bg-cyan-900 dark:focus:ring-cyan-800"
            >Limpar</button>
            <button
                type="submit"
                [disabled]="formularioProduto.invalid"
                class="h-auto inline-flex items-center px-3 py-2 text-sm font-medium text-center rounded-lg text-white  focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800"
                [ngClass]="formularioProduto.valid? 'cursor-pointer bg-cyan-700 hover:bg-cyan-800 dark:bg-cyan-700 dark:hover:bg-cyan-900': 'cursor-not-allowed bg-gray-600'"
            >Salvar</button>
        </section>
    </form>
</section>